activity_test <- read_table2(file = file.path(path,"test", "y_test.txt"), col_names = FALSE)
data_train <- read_table2(file = file.path(path,"train", "X_train.txt"), col_names = FALSE)
data_test <- read_table2(file = file.path(path,"test", "X_test.txt"), col_names = FALSE)
subject <- bind_rows(subject_train,subject_test)
activity <- bind_rows(activity_train,activity_test)
data <- bind_rows(data_train, data_test)
dataset <- bind_cols(subject, activity, data)
dim(dataset)
str(dataset)
glimpse(dataset)
dataset %>% rename("subject"=X1)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
dataset %>% rename("subject"=X1, "activity_num" = X1100)
library(data.table)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
View(features)
dataset %>% rename("subject"=X1, "activity_num" = X1100, everything() = features$X2)
dataset %>% rename("subject"=X1, "activity_num" = X1100,  features$X2)
dataset %>% rename(#"subject"=X1, "activity_num" = X1100,
-X1, -X11000=features$X2)
dataset %>% rename(#"subject"=X1, "activity_num" = X1100,
-X1, -X1100=features$X2)
dataset %>% rename(#"subject"=X1, "activity_num" = X1100,
(-X1, -X1100)=features$X2)
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:] <-features$X2
colnames(dataset)[3:]
colnames(dataset)[3:
<-features$X2
colnames(dataset)
class(colnames(dataset))
length(colnames(dataset))
colnames(dataset)[3:4]
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
str(dataset)
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
dataset <- bind_cols(subject, activity, data)
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
View(data)
View(dataset)
labels <- read_table2(file = file.path(path, "features_info.txt", col_names = FALSE))
labels <- read_table2(file = file.path(path, "features_info.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
act_lab <- read_table2(file = file.path(path, "activity_labels.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
dataset %>% mutate(
activity_name = function(){
for (i in activity_num){
return(labels)
}
}
)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
dataset %>% mutate(
activity_name = function(){
for (i in activity_num){
return(labels)
}
}
)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
dataset %>% mutate(
activity_name = function(){
for (i in activity_num){
return(labels)
}
}
)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
dataset <- bind_cols(subject, activity, data)
str(dataset)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100  )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt", col_names = FALSE)
# assign column names
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE))
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100 )
dataset <- bind_cols(subject, activity, data)
str(dataset)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
dataset <- dataset %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
View(act_lab)
dataset %>% mutate(
activity_name = function(){
for (i in activity_num){
return(act_lab[i,2])
}
}
)
dataset %>% select(activity_num) %>%
mutate(
activity_name = function(){
for (i in activity_num){
return(act_lab[i,2])
}
}
)
dataset %>% select(activity_num) %>%
mutate(
activity_name = function(){
for (i in activity_num){
return(act_lab[i,2])
}
}
)
dataset %>% select(activity_num) %>%
# mutate(
#       activity_name = function(){
#             for (i in activity_num){
#                   return(act_lab[i,2])
#             }
#       }
)
dataset %>% select(activity_num)
dataset %>% select(activity_num)
dataset %>% select(activity_num)
dataset %>% str(
# mutate(
#       activity_name = function(){
#             for (i in activity_num){
#                   return(act_lab[i,2])
#             }
#       }
)
dataset %>% select(activity_num)
dataset %>% select(everything()
# mutate(
#       activity_name = function(){
#             for (i in activity_num){
#                   return(act_lab[i,2])
#             }
#       }
)
dataset %>% select(activity_num
dataset %>% select(activity_num  )
dataset %>% select(activity_num )
class(dataset)
select(dataset, subject)
select(dataset, "subject")
colnames(dataset)
library(tidyverse)
library(stringr)
colnames(dataset)
dataset %>% select(activity_num )
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
df %>% select(activity_num )
df %>% select(activity_num ) %>%
mutate(
activity_name = function(){
for (i in activity_num){
return(act_lab[i,2])
}
}
)
for (i in df$activity_num){
return(act_lab[i,2])
}
df %>% select(activity_num ) %>%
mutate(
activity_name = function(){
for (i in df$activity_num){
return(act_lab[i,2])
}
}
)
for (i in df[,2]){
return(act_lab[i,2])
}
df %>% select(activity_num ) %>%
mutate(
activity_name = function(){
for (i in df[,2]){
return(act_lab[i,2])
}
}
)
activity_name = for (i in df[,2]){
return(act_lab[i,2])
}
df %>% select(activity_num ) %>%
mutate(
activity_name = for (i in df[,2]){
return(act_lab[i,2])
}
)
df %>% mutate(
activity_name = for (i in df[,2]){
return(act_lab[i,2])
}
)
df
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
df
source('~/week4-project/run_analysis.R', echo=TRUE)
View(df)
colnames(dataset)[3:length(colnames(dataset))] <-features$X2
View(df)
View(dataset)
colnames(df)[3:length(colnames(dataset))] <-features$X2
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(dataset))] <-features$X2
df <- bind_cols(subject, activity, data)
df <- bind_cols(subject, activity, data)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(dataset))] <-features$X2
subject <- bind_rows(subject_train,subject_test)
activity <- bind_rows(activity_train,activity_test)
data <- bind_rows(data_train, data_test)
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(dataset))] <-features$X2
colnames(df)[3:length(colnames(dataset))] <-features$features_name
selecst(df, 1
)
select(df, 1)
source('~/week4-project/run_analysis.R', echo=TRUE)
df %>% select(1)
df %>% select(3:)
df %>% select(3:563)
colnames(df)[3:length(colnames(df))] <-features$features_name
View(features)
df <- df %>% rename("subject"=X1, "activity_num" = X1100, 3:length(names(df)) = features$features_name )
df <- df %>% rename("subject"=1, "activity_num" = 2, 3:length(names(df)) = features$features_name )
df <- df %>% rename("subject"=1,
"activity_num" = 2,
features$features_name = 3:length(names(df))  )
df <- df %>% rename("subject"=1,
"activity_num" = 2,
features$features_name = 3:length(names(df))  )
df <- df %>% rename("subject" = 1,
"activity_num" = 2,
features$features_name = 3:563  )
df <- df %>% rename("subject" = 1,
"activity_num" = 2,
"features$features_name" = 3:563  )
df %>% rename(3:563)
df %>% rename(3:563= "123")
df %>% rename( "123"= 3:563)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(df))] <-features$features_name
df %>% select(3:563)
df <- bind_cols(subject, activity, data)
df %>% select(3:563)
colnames(df)[3:length(colnames(df))] <-features$features_name
df %>% select(3:563)
str(df)
act_lab <- act_lab %>% rename(activity_num = 1, activity_name = 2)
str_count(features$features_name)
unique(features$features_name)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
df <- df %>% rename("subject"=1, "activity_num" = 2 )
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(df))] <-features$features_name
df %>% select(3:563)
df %>% select(1)
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df %>% select(1)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
df %>% select(1)
str(df)
colnames(df)[3:length(colnames(df))] <-features$features_name
str(df)
df %>% select(1)
unique(colnames(df))
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd
featuresMeanSTd
class(featuresMeanSTd)
featuresMeanSTd <- grep("mean|std", features, value = TRUE)
feature
featuresMeanSTd
featuresMeanSTd <- str_subset(features, "mean|std")
as.vector(featuresMeanSTd)
as.numeric(featuresMeanSTd)
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features, "mean|std")
featuresMeanSTd <- str_subset(features$features_name, "mean|std")
featuresMeanSTd
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std")
featuresMeanSTd <- str_subset(features$features_name, "mean\(\\)|std")
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std\\(\\)")
index <- which(features$features_name == featuresMeanSTd)
index <- which(features$features_name %in% featuresMeanSTd)
df %>% select(-1,-2)
df <- bind_cols(subject, activity, data)
df %>% select(-1,-2)
df %>% select(-1,-2, index) %>%
df %>% select(-1,-2, index)
df %>% select(-1,-2, 3)
df %>% select(-1,-2) %>% select(index)
df %>% select(-1,-2, index) #%>% select()
df %>% select(-1,-2, index) #%>% select()
df %>% select(-1,-2) #%>% select()
df %>% select(-1,-2, index) #%>% select()
df %>% select(1:2 ,  index+2)
df_meanstd<- df %>% select(1:2 , index+2)
left_join(df_meanstd,act_lab)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
left_join(df_meanstd,act_lab)
View(act_lab)
df_meanstd<- df %>% select(1:2 , index+2)
left_join(df_meanstd,act_lab)
df_meanstd <- left_join(df_meanstd,act_lab)
View(df_meanstd)
source('~/week4-project/run_analysis.R', echo=TRUE)
df <- bind_cols(subject, activity, data)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(df))] <-make.names(features$features_name,unique = TRUE)
df<- df %>% select(1:2 , match("mean\\(\\)|std\\(\\)"))
df<- df %>% select(1:2 , matches("mean\\(\\)|std\\(\\)"))
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(df))] <-make.names(features$features_name,unique = TRUE)
subject <- bind_rows(subject_train,subject_test)
activity <- bind_rows(activity_train,activity_test)
data <- bind_rows(data_train, data_test)
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(df))] <-make.names(features$features_name,unique = TRUE)
df<- df %>% select(1:2 , matches("mean\\(\\)|std\\(\\)"))
df <- bind_cols(subject, activity, data)
df<- df %>% select(1:2 , matches("mean|std"))
View(df)
df <- bind_cols(subject, activity, data)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
colnames(df)[3:length(colnames(df))] <-make.names(features$features_name,unique = TRUE)
df %>% select(1:2 , matches("mean|std"))
df %>% select(1:2 , matches("mean\\(\\)|std"))
df %>% select(1:2 , matches("mean\\(\)|std"))
df %>% select(1:2 , matches("mean\\()|std"))
df %>% select(1:2 , matches("mean\\()|std\\("))
df %>% select(1:2 , matches(".*std.*"))
unique(colnames(df))
df %>% select(1:2 , matches("mean[^:alnum:]"))
df %>% select(1:2 , matches("mean[^a-zA-Z]"))
df %>% select(1:2 , matches("mean"))
df %>% select(1:2 , matches("mean",ignore.case= FALSE))
data <- bind_rows(data_train, data_test)
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std\\(\\)")
index <- which(features$features_name %in% featuresMeanSTd)
dfdf<- df %>% select(1:2 , index+2)
dfdf <- left_join(df, act_lab)
df
df<- df %>% select(1:2 , index+2)
dfdf <- left_join(df, act_lab)
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std\\(\\)")
index <- which(features$features_name %in% featuresMeanSTd)
df<- df %>% select(1:2 , index+2)
df
df
df <- left_join(df, act_lab)
df
unique(act_lab$activity_name)
unique(df$activity_name)
unique(act_lab$activity_name) == unique(df$activity_name)
all.equal(unique(act_lab$activity_name), unique(df$activity_name))
df <- df %>% select(1, activity_name,everything())
dim(df)
head(df)
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std\\(\\)")
index <- which(features$features_name %in% featuresMeanSTd)
df<- df %>% select(1:2 , index+2)
df <- left_join(df, act_lab)
df <- df %>% select(1, -2, activity_name,everything())
head(df)
df <- df %>% select(1, -2, activity_name,everything())
head(df)
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std\\(\\)")
index <- which(features$features_name %in% featuresMeanSTd)
df<- df %>% select(1:2 , index+2)
df <- left_join(df, act_lab)
df <- df %>% select(1, -2, activity_name,everything())
df <- bind_cols(subject, activity, data)
str(df)
features <- read_table2(file = file.path(path,"features.txt"), col_names = FALSE)
features <- features %>% rename(features_num=X1, features_name=X2)
act_lab <- read_table2(file = file.path(path, "activity_labels.txt"), col_names = FALSE)
act_lab <- act_lab %>% rename(activity_num = X1, activity_name = X2)
df <- df %>% rename("subject"=X1, "activity_num" = X1100 )
featuresMeanSTd <- str_subset(features$features_name, "mean\\(\\)|std\\(\\)")
index <- which(features$features_name %in% featuresMeanSTd)
df<- df %>% select(1:2 , index+2)
df %>% select(1, -2, everything())
df %>% select(-2 )
df %>% select(-2, 1  )
df <- left_join(df, act_lab)
df %>% select(-2, 1, activity_name  )
df %>% select(-2) %>% select(1, activity_name,everything())
df <- df %>% select(-2) %>% select(1, activity_name,everything())
head(df)
dim(df)
str(df)
source('~/week4-project/run_analysis.R', echo=TRUE)
measurements <- features$features_name[index]
colnames(df)[3:length(colnames(df))] <- measurements
str(df)
act_lab <- act_lab %>% rename(activitylabel = X1, activity = X2)
df <- df %>% select(-2) %>% select(1, activity,everything())
df <- left_join(df, act_lab)
df <- df %>% select(-2) %>% select(1, activity,everything())
source('~/week4-project/run_analysis.R', echo=TRUE)
df %>% group_by(subject, activity) %>% summarise(mean)
df %>% group_by(subject, activity) %>% summarise(mean())
df %>% group_by(subject, activity) %>% summarise(mean(3))
df %>% group_by(subject, activity) %>% summarise(mean(`tBodyGyroJerk-std()-Z`))
df %>% group_by(subject, activity) %>% summarise_at(vars(3:ncol(df)),mean)
df %>% group_by(subject, activity) %>% summarise_at(vars(3:68),mean)
df %>% group_by(subject, activity) %>% summarise_all(mean)
df %>% group_by(subject, activity) %>% summarise_all(mean = mean)
df %>% group_by(subject, activity) %>% summarise_if(is.numeric, mean)
grouped_mean <- df %>% group_by(subject, activity) %>% summarise_if(is.numeric, mean)
View(grouped_mean)
df[,2] <- str_to_lower(df$activity)
df$activity <- str_to_lower(df$activity)
head(df)
str(df)
measurements <- features$features_name[index]
colnames(df)[3:length(colnames(df))] <- measurements
str(df)
grouped_mean <- df %>% group_by(subject, activity) %>% summarise_if(is.numeric, mean)
df_mean <- df %>% group_by(subject, activity) %>% summarise_if(is.numeric, mean)
write_csv(df,"tidy.csv")
write_csv(df_mean, "tidymean.csv")
write_csv(df,"./tidy-dataset/tidy.csv")
write_csv(df_mean, "./tidy-dataset/tidymean.csv")
rm(list=ls())
source('~/week4-project/run_analysis.R', echo=TRUE)
